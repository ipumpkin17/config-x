# sve1r: https://github.com/sve1r/Rules-For-Quantumult-X
# Orz-3: https://github.com/Orz-3/QuantumultX
# DivineEngine: https://github.com/DivineEngine/Profiles/tree/master
# KOP-XIAO: https://github.com/KOP-XIAO/QuantumultX

[general]
# > æœåŠ¡æ£€æµ‹é“¾æ¥
server_check_url=http://cp.cloudflare.com/generate_204
# > èµ„æºè§£æå™¨
resource_parser_url= https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js
# > èŠ‚ç‚¹ GEO ä½ç½®ä¿¡æ¯æ£€æµ‹
geo_location_checker=http://ip-api.com/json/?lang=zh-CN,https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/IP_API.js
# > DNS æ’é™¤åˆ—è¡¨
# list ä¸­çš„åŸŸåå°†ä¸ä½¿ç”¨ fake-ip æ–¹å¼è¿›è¡Œè§£æ
dns_exclusion_list=*.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me
# > æ’é™¤è·¯ç”±
# ä»¥ä¸‹ ip-cidr ä¸­çš„è·¯ç”±å°†ä¸ç»ç”± QuantumultX è¿›è¡Œå¤„ç†
excluded_routes= 192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8, 239.255.255.250/32
# ä»¥ä¸‹ UDP è¯·æ±‚ä¸ä¼šè¿›å…¥è§„åˆ™æ¨¡å—ä»¥åŠç­–ç•¥æ¨¡å—
udp_whitelist=1-442, 444-65535

[dns]
no-ipv6
# > é€šç”¨åŸŸå DNS
server=119.29.29.29
server=182.254.116.116
server=223.5.5.5
# ç‰¹å®šåŸŸåæŒ‡å®šç›¸åº” DNS
# > Firebase Cloud Messaging
address=/mtalk.google.com/108.177.125.188
# > Google Dl
server=/dl.google.com/119.29.29.29
server=/dl.l.google.com/119.29.29.29
server=/update.googleapis.com/119.29.29.29
# > PlayStation
server=/*.dl.playstation.net/119.29.29.29
# > Router Admin Panel
server=/amplifi.lan/system
server=/router.synology.com/system
server=/sila.razer.com/system
server=/router.asus.com/system
server=/routerlogin.net/system
server=/orbilogin.com/system
server=/www.LinksysSmartWiFi.com/system
server=/LinksysSmartWiFi.com/system
server=/myrouter.local/system
server=/www.miwifi.com/system
server=/miwifi.com/system
server=/mediarouter.home/system
server=/tplogin.cn/system
server=/tplinklogin.net/system
server=/melogin.cn/system
server=/falogin.cn/system
# > é˜¿é‡Œç³»
server=/*.taobao.com/223.5.5.5
server=/*.tmall.com/223.5.5.5
server=/*.alipay.com/223.5.5.5
server=/*.alicdn.com/223.5.5.5
server=/*.aliyun.com/223.5.5.5
# > è…¾è®¯ç³»
server=/*.qq.com/119.29.29.29
server=/*.tencent.com/119.29.29.29
server=/*.weixin.com/119.29.29.29

[server_local]

[server_remote]

[filter_remote]
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Services/Unbreak.list, tag=Unbreak, force-policy=direct, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Advertising/Hijacking.list, tag=Hijacking, force-policy=reject, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Advertising/AdReject.list, tag=Advertising, force-policy=reject, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Media/Foreign/YouTube.list, tag=YouTube, force-policy=YouTube, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Media/Foreign/Netflix.list, tag=Netflix, force-policy=Netflix, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Media/Foreign/DisneyPlus.list, tag=Disney+, force-policy=Disney+, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Media/Foreign/AmazonPrime.list, tag=Prime Video, force-policy=Prime Video, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Media/Foreign/Spotify.list, tag=Spotify, force-policy=Spotify, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Media/Foreign/Tiktok.list, tag=Tiktok, force-policy=Tiktok, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/develop/Rules/Media/Domestic/BiliBili.list, tag=BiliBili, force-policy=BiliBili, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Media/ForeignMedia.list, tag=ForeignMedia, force-policy=Streaming, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Media/DomesticMedia.list, tag=DomesticMedia, force-policy=direct, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Services/SNS/Telegram.list, tag=Telegram, force-policy=Telegram, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Services/Google.list, tag=Google, force-policy=Google, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Region/Global.list, tag=Global, force-policy=Global, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Services/Apple.list, tag=Apple, force-policy=direct, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Services/Microsoft.list, tag=Microsoft, force-policy=direct, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/main/Rules/Region/China.list, tag=Domestic, force-policy=direct, enabled=true

[rewrite_remote]
https://raw.githubusercontent.com/ipumpkin17/config-x/main/rewrite/isd.conf, tag=iShanDong, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/General.conf, tag=DivineEngine General, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/Block/Advertising.conf, tag=DivineEngine Advertising, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/Block/AdvertisingPlus.conf, tag=DivineEngine Advertising+, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/Block/YouTubeAds.conf, tag=YouTube Remove Ads, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/Rewrite_lhie1.conf, tag=lhie1 Remove Ads, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/TestFlightDownload.conf , tag=TestFlight Download, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/app2smile/rules/master/module/spotify.conf, tag=Spotify Premium, update-interval=172800, opt-parser=false, enabled=false
https://raw.githubusercontent.com/qiangxinglin/Emby/main/QuantumultX/emby.conf, tag=Emby Premium, update-interval=172800, opt-parser=false, enabled=false
https://raw.githubusercontent.com/id77/QuantumultX/master/rewrite/Youtube_CC.conf#out=Hant, tag=YouTube CC, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Quantumult-X/TikTok-JP.conf, tag=TikTok JP, update-interval=172800, opt-parser=false, enabled=false
https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Quantumult-X/TikTok-TW.conf, tag=TikTok TW, update-interval=172800, opt-parser=false, enabled=false
https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Quantumult-X/TikTok-KR.conf, tag=TikTok KR, update-interval=172800, opt-parser=false, enabled=false
https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Quantumult-X/TikTok-US.conf, tag=TikTok US, update-interval=172800, opt-parser=false, enabled=false

[policy]
static=Global, proxy, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Global.png
static=Final, proxy, direct, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Final.png
static=Google, proxy, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Google.png
static=Telegram, proxy, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Telegram.png
static=BiliBili, proxy, direct, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Bili.png
static=YouTube, proxy, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/YouTube.png
static=Netflix, proxy, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Netflix.png
static=Disney+, proxy, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/DisneyPlus.png
static=Prime Video, proxy, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/PrimeVideo.png
static=Spotify, proxy, direct, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, åœŸè€³å…¶èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Spotify.png
static=Tiktok, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/TikTok.png
static=Streaming, proxy, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Streaming.png
# > è‡ªåŠ¨æµ‹é€Ÿç»„
url-latency-benchmark=è‡ªåŠ¨é€‰æ‹©, server-tag-regex=^((?!(Traffic|Expire|music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|ç½‘æ˜“äº‘|äº‘éŸ³ä¹|Music|Netease|ğŸ¶|æ‰‹æ¸¸|æ¸¸æˆ|game)).)*$, check-interval=6000, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Urltest.png
url-latency-benchmark=é¦™æ¸¯èŠ‚ç‚¹, server-tag-regex=(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾)).)*$, check-interval=6000, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png
url-latency-benchmark=å°æ¹¾èŠ‚ç‚¹, server-tag-regex=(?=.*(å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾)).)*$, check-interval=6000, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/TW.png
url-latency-benchmark=æ—¥æœ¬èŠ‚ç‚¹, server-tag-regex=(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾)).)*$, check-interval=6000, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/JP.png
url-latency-benchmark=ç‹®åŸèŠ‚ç‚¹, server-tag-regex=(?=.*(æ–°|ç‹®|ç…|SG|(?i)Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾)).)*$, check-interval=6000, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/SG.png
url-latency-benchmark=ç¾å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(ç¾|US|(?i)States|American))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°)).)*$, check-interval=6000, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/US.png
url-latency-benchmark=éŸ©å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(éŸ©|KR|Korea))^((?!(æ¸¯|å°|æ—¥|ç¾|æ–°)).)*$, check-interval=6000, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/KR.png
url-latency-benchmark=åœŸè€³å…¶èŠ‚ç‚¹, server-tag-regex=(?=.*(Turkey))^((?!(æ¸¯|å°|æ—¥|ç¾|æ–°|éŸ©)).)*$, check-interval=6000, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/TR.png
static=å…¨éƒ¨èŠ‚ç‚¹, server-tag-regex=^((?!(music)).)*$, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Static.png

[filter_local]
host-suffix, local, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 100.64.0.0/10, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/4, direct
ip6-cidr, fe80::/10, direct
# geoip, cn, direct
final, Final

[rewrite_local]

[task_local]
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/streaming-ui-check.js, tag=æµåª’ä½“-è§£é”æŸ¥è¯¢, img-url=checkmark.seal.system, enabled=true
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/switch-check-google.js, tag=Google åˆ‡æ¢, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google.png, enabled=true

[http_backend]
https://raw.githubusercontent.com/chavyleung/scripts/master/chavy.box.js, tag=BoxJS, path=^/, enabled=true

[mitm]
